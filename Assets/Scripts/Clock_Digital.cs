using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Clock_Digital : MonoBehaviour {
//----------------------------------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------------------------------
//
//                                          Simple Clock Script by Andre "AEG" Bürger /VIS-Games (2021)
//  
//----------------------------------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------------------------------

    //-------------------------------------------------        
    public float speed; 
    public int minute;      // start Time
    public int hour;        // start Time
    //-------------------------------------------------
    Renderer objRenderer; 
    //-------------------------------------------------
    float delay;
    //-------------------------------------------------
    static public bool end617 = false;
    private int i = 0;

//----------------------------------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------------------------------
void Start()
{
    objRenderer = GetComponent<Renderer>();
    objRenderer.materials[5].SetTextureOffset("_MainTex", new Vector2(0.0f, 0.9f));
    objRenderer.materials[5].SetTextureOffset("_EmissionMap", new Vector2(0.0f, 0.9f));    
}
//----------------------------------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------------------------------
void Update()
{
    //--------------------------------------------------------------------------------------------------------------------------
    delay -= Time.deltaTime * speed;
    if (minute == 17 && hour == 6)
    {
        end617 = true;
        speed = 0;
    }
    else if(delay < 0.0f)
    { 
        delay = 1.0f;
        minute++;
        i++;
        if (i > 137) speed -= 0.5f;
        if(minute >= 60)
        {
            minute = 0;
            hour++;
            if(hour >= 24)
                hour = 0;
        }
    }
    //--------------------------------------------------------------------------------------------------------------------------
    // Minute 1er
    float offset = 0.0f - 0.1f * (float)(minute % 10);
    objRenderer.materials[4].SetTextureOffset("_MainTex",     new Vector2(0.0f, offset));
    objRenderer.materials[4].SetTextureOffset("_EmissionMap", new Vector2(0.0f, offset));

    // Minute 10er
    offset = 0.0f - 0.1f * (float)((minute / 10) % 10);
    objRenderer.materials[3].SetTextureOffset("_MainTex",     new Vector2(0.0f, offset));
    objRenderer.materials[3].SetTextureOffset("_EmissionMap", new Vector2(0.0f, offset));

    // Hour 1er
    offset = 0.0f - 0.1f * (float)(hour % 10);
    objRenderer.materials[1].SetTextureOffset("_MainTex",     new Vector2(0.0f, offset));
    objRenderer.materials[1].SetTextureOffset("_EmissionMap", new Vector2(0.0f, offset));

    // Hour 10er
    offset = 0.0f - 0.1f * (float)((hour / 10) % 10);
    objRenderer.materials[2].SetTextureOffset("_MainTex",     new Vector2(0.0f, offset));
    objRenderer.materials[2].SetTextureOffset("_EmissionMap", new Vector2(0.0f, offset));

    

    //--------------------------------------------------------------------------------------------------------------------------
    // tickDelay -= Time.deltaTime;
    // if(tickDelay < 0.0f)
    // {
    //     tickDelay += 0.5f;
    //     tick = !tick;
    //     if(tick)
    //     {
    //         objRenderer.materials[5].SetTextureOffset("_MainTex", new Vector2(0.0f, 0.0f));
    //         objRenderer.materials[5].SetTextureOffset("_EmissionMap", new Vector2(0.0f, 0.0f));
    //     }
    //     else
    //     {
    //         objRenderer.materials[5].SetTextureOffset("_MainTex", new Vector2(0.0f, 0.9f));
    //         objRenderer.materials[5].SetTextureOffset("_EmissionMap", new Vector2(0.0f, 0.9f));
    //     }
    // }
    //--------------------------------------------------------------------------------------------------------------------------
}
//----------------------------------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------------------------------
}
